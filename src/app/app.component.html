<app-header/>

<!-- The <main> element should not include content that appears on multiple pages, like headers, nav ... -->
<!-- The <main> element holds the unique content of the page. -->
<main>
  <ul id="users">   

    <!-- track is to say that the unique id of the elements inside users is the id -->
<!-- his way, when the array changes (items added, removed, or reordered), 
 Angular can efficiently update only the elements
  that actually changed, rather than re-rendering the entire list. 
  So it doesn't have to recreate the whole list each time a value change-->
    @for (element of users; track element.id){
      <li>
        <!-- (select) means we are listening to the event select, and when triggered
        It execute the function onSelectUser() and $event is the value generated by the event -->
        <app-user [user]="element" (select) = "onSelectUserApp($event)"/>
      </li>
    }

  </ul>

  @if( selectedUser){
  <!-- if selecteUser is null or undefiened, the expressions returns null instead of error when using '?' -->
   <!-- There's no need to write selectedUser()?.name because getters are accessed without calling them explicitly. -->
  <app-tasks [userId] = "selectedUser.id" [taskowner]="selectedUser.name"></app-tasks>

  } @else {
    <p id = fallback> Select a User to see their tasks!</p>
  }
</main>
